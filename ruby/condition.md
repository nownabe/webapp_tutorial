# 条件分岐
## 概要
プログラムでは、「ある条件のときにだけ処理Aを行う。そうでない場合には処理Bを行う」のように条件によって処理を変えることがよくあります。
そのような条件による処理の分岐について説明します。

## 例
コマンドライン引数[^1]で与えられた値段から消費税込みの値段を計算するプログラムを作ってみましょう。

```ruby
price = ARGV[0].to_i

puts "税抜価格は#{price}円です。"
puts "税込み価格は#{(price * 1.08).to_i}円です。"
```

このプログラムは上手く消費税を計算することができます。
しかし、引数に値段を書き忘れた場合やマイナスの値を渡した場合も正しく計算したかのような結果を出力します。

```bash
$ ruby tax_cond.rb 500
税抜価格は500円です。
税込み価格は540円です。
$ ruby tax_cond.rb
税抜価格は0円です。
税込み価格は0円です。
$ ruby tax_cond.rb -500
税抜価格は-500円です。
税込み価格は-540円です。
```

このプログラムを利用するユーザーのことを考えると、次のような処理を入れた方が親切といえます。

* コマンドライン引数がない場合、「コマンドライン引数に値段を入力してください」というメッセージを出力する
* 渡された値段が0円以下の場合、「値段は正の整数で入力してください」というメッセージを出力する

このような、条件によって処理を変えることを条件分岐といいます。

## if文による条件分岐
if文は最も代表的な条件判断文です。
次のように書きます。

```ruby
if 条件
  処理
end
```

これで、条件を満たす場合のみ中に書いた処理を実行します。
プログラムの流れを図にするとこのようになります[^1]。

![](if.png)

次のプログラムの場合、「`x`が`10`より大きい場合、`puts`を実行する」というプログラムになります。

```ruby
if x > 10
  puts "xは10より大きいです。"
end
```

## 真偽値
Rubyで「条件を満たす」とはどういう意味なのかを説明します。

数学やプログラミングの世界では、条件を満たすことを__真__、満たさないことを__偽__といいます。
つまり、上で説明したif文の場合は「条件が真であれば処理を実行する」といえます。

Rubyでは、条件式が`false`か`nil`以外の場合はすべて__真__として扱います。

* 真: `false`と`nil`以外
* 偽: `false`と`nil`

`false`や`nil`についてはこれから説明します。

## true/false
Rubyが偽として扱うオブジェクトのひとつに`false`があります。
また、それと対をなすオブジェクトとして`true`があります。
それぞれ真偽を表現するための特別なオブジェクトです。



## nil
`nil`は何もないことを示す特別なオブジェクトです。
例えばコマンドライン引数に何も書かなかった状態だと、`ARGV[0]`は`nil`になっています。


[^1]: 演習問題(2)を参考にしてください。
[^2]: このような図をフローチャートといいます。